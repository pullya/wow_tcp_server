# wow_tcp_server
"Word of Wisdom" tcp-server

Это простой tcp-сервер, который принимает входящие соединения по порту 8081 и отправляет в ответ одну из "Цитат мудрости". И такой же простой tcp-клиент, который отправляет N запросов серверу и получает ответ.

Сервер и клиент поднимаются в контейнерах при помощи команд:
```bash
docker-compose build
docker-compose up
```

На стороне сервера и клиента реализован механизм Proof of Work. После установки соединения сервер отправляет клиенту запрос с указанием требуемой сложности поиска решения, ожидает ответ, валидирует его и в случае успеха возвращает цитату клиенту. Клиент, получив запрос на выполнение работы, ищет число nonce, удовлетворяющее условию сложности и возвращает его серверу.

В качестве Proof of Work используется упрощенный алгоритм Ethash. Выбор данного алгоритма обусловлен следующими факторами:
 - повышенная устойчивость алгоритма к ASIC-майнингу
 - возможность менять уровень сложность поиска решения
 - открытый исходный код и относительно невысокие требования к производительности (по сравнению с другими алгоритмами)

Для сервера можно настроить следующие параметры конфигурации (файл *./tcp-server/internal/config/config.go*)

 - TcpPort     = ":8081"      // Номер порта для соединения с tcp-сервером
 - ServiceName = "tcp-server" // Имя сервиса для отображения в логах
 - PowDifficulty = 10 // Условие сложности для Proof of work
 - ProofString   = "Find a string that, when hashed, can be proofed"
 - LogLevel = log.DebugLevel // Уровень логирования

Для клиента можно настроить следующие параметры конфигурации (файл *./tcp-client/internal/config/config.go*)

 - Address     = "tcp_server:8081" // Адрес для соединения с tcp-сервером. Имя "tcp_server" должно совпадать с именем сервера в файле docker-compose.yml
 - ServiceName = "tcp-client"      // Имя сервиса для отображения в логах
 - ClientsCount = 5    // Количество клиентов, которое будет запущено
 - ConnInterval = 3000 // Интервал в миллисекундах между запуском горутин с клиентами
 - LogLevel = log.DebugLevel // Уровень логирования